@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================
   1. THEME VARIABLESes
   ============================ */
:root {
    --glass-bg: rgba(255, 255, 255, 0.75);
    --glass-border: rgba(255, 255, 255, 0.5);
    --glass-shadow: 0 8px 32px rgba(31, 38, 135, 0.05);
    --text-primary: #0f172a;
    
    /* Eyecatcher Gradients */
    --grad-gold: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
    --grad-emerald: linear-gradient(135deg, #10b981 0%, #059669 100%);
    --grad-royal: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    --grad-purple: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
}

html.dark {
    --glass-bg: rgba(15, 23, 42, 0.7);
    --glass-border: rgba(255, 255, 255, 0.08);
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    --text-primary: #f8fafc;
}

/* ============================
   2. CORE UTILITIES
   ============================ */
body {
    font-family: 'Inter', sans-serif;
    -webkit-tap-highlight-color: transparent;
    overscroll-behavior-y: none;
    color: var(--text-primary);
}

/* Hide Scrollbar */
.no-scrollbar::-webkit-scrollbar { display: none; }
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

/* iOS & Android Safe Areas */
.pt-safe-top { padding-top: max(1.5rem, env(safe-area-inset-top)); }
.pb-safe-bottom { padding-bottom: max(1.5rem, env(safe-area-inset-bottom)); }

/* ============================
   3. THE FOG FOOTER & NAVIGATION
   ============================ */
#app-nav {
    background: linear-gradient(to top, var(--glass-bg) 60%, transparent);
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border-top: 1px solid var(--glass-border);
    /* High elevation shadow */
    box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.05);
}

.nav-btn {
    @apply flex flex-col items-center gap-1 transition-all duration-300 py-2;
}

.nav-btn.active {
    @apply text-blue-600 dark:text-blue-400 scale-110;
}

.nav-btn.inactive {
    @apply text-slate-400 hover:text-slate-600 dark:hover:text-slate-300;
}

/* Navigation Icon Indicator */
.nav-btn.active::after {
    content: '';
    @apply absolute -bottom-1 w-1 h-1 bg-blue-600 rounded-full;
}

/* ============================
   4. GLASS & EYE-CARDS
   ============================ */
.glass-card {
    background: var(--glass-bg);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid var(--glass-border);
    box-shadow: var(--glass-shadow);
}

.eye-card {
    @apply relative overflow-hidden transition-all duration-300 active:scale-95;
}

.bg-grad-gold { background: var(--grad-gold); }
.bg-grad-emerald { background: var(--grad-emerald); }
.bg-grad-royal { background: var(--grad-royal); }
.bg-grad-purple { background: var(--grad-purple); }

/* Shimmer Animation for Diagram Placeholders */
@keyframes shimmer {
    0% { transform: translateX(-100%) skewX(-12deg); }
    100% { transform: translateX(200%) skewX(-12deg); }
}
.shimmer { animation: shimmer 2.5s infinite linear; }

/* ============================
   5. VIEW ANIMATIONS
   =========================== */
@keyframes viewEnter {
    from { opacity: 0; transform: translateY(15px); }
    to { opacity: 1; transform: translateY(0); }
}
.animate-view-enter { animation: viewEnter 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

/* Background Animated Mesh */
#bg-mesh::before, #bg-mesh::after {
    content: ''; position: absolute; border-radius: 50%; filter: blur(90px);
    animation: float 12s infinite ease-in-out;
}
#bg-mesh::before {
    top: -5%; left: -5%; width: 70vw; height: 70vw;
    background: rgba(59, 130, 246, 0.12);
}
#bg-mesh::after {
    bottom: -5%; right: -5%; width: 80vw; height: 80vw;
    background: rgba(236, 72, 153, 0.1); animation-delay: -6s;
}
@keyframes float {
    0%, 100% { transform: translate(0, 0) scale(1); }
    50% { transform: translate(20px, -20px) scale(1.05); }
}

/* ============================
   6. CRITICAL FIX: BUTTON STATES
   =========================== */
/* Ensure the active button is visible to the user */
.count-btn.active, 
.mode-btn.active {
    background-color: #0f172a !important; /* Slate-900 */
    color: #ffffff !important;
}

/* Dark Mode support */
.dark .count-btn.active, 
.dark .mode-btn.active {
    background-color: #ffffff !important; /* White */
    color: #0f172a !important; /* Slate-900 */
}



